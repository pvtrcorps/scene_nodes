Scene Nodes - Documentación para Usuarios
===========================================

Este complemento de Blender ofrece un sistema experimental basado en nodos para
ensamblar escenas. Tras instalarlo tendrás disponible un nuevo tipo de "Scene
Graph" dentro del editor de nodos.

---

Instalación
------------
1. Descarga o clona este repositorio.
2. Empaqueta la carpeta `scene_nodes` en un archivo ZIP (o usa *Download ZIP* en
   GitHub).
3. En Blender ve a **Edit > Preferences > Add-ons** y pulsa **Install...**.
4. Selecciona el ZIP e instala el complemento.
5. Habilita **Scene Nodes** en la lista de add-ons.

Al activarlo, podrás crear árboles de nodos de tipo **Scene Graph** desde el editor
de nodos.

Uso básico
-----------
1. Abre el Node Editor y cambia el tipo de arbol a **Scene Graph**.
2. Añade nodos desde el menú **Add > Scene Node**.
3. Conecta las salidas y entradas de tipo `Scene` entre nodos.
4. Ejecuta el operador **Sync to Scene** (menú F3) para evaluar el árbol y
   sincronizarlo con la escena de Blender.
   El operador utiliza el árbol de Scene Graph activo en el Node Editor (o el
   primero que encuentre en el archivo), por lo que las escenas no necesitan
   tener un árbol asignado.

También es posible evaluar el arbol mediante Python con:

```python
from scene_nodes.engine import evaluate_scene_tree
evaluate_scene_tree(mi_tree)
```

Nodos disponibles
-----------------
A continuación se describen los nodos incluidos y sus propiedades más relevantes.

### Scene Instance
Crea una instancia de otro archivo `.blend`.
- **File Path**: ruta del archivo.
- **Collection Path**: colección dentro del archivo a instanciar.
- **Load Mode**: `Append`, `Instance`, `Link` o `Link Override`.
- En modo `Instance` el nodo elimina instancias previas para evitar duplicados.
- En modo `Link Override` se crea una biblioteca sobreescrita real en vez de un `Append`.

### Transform
Aplica transformaciones básicas.
- **Translate**: desplazamiento (XYZ).
- **Rotate**: rotación (XYZ en radianes).
- **Scale**: escala (XYZ).

### Group
Permite combinar varias entradas de escena y producir una sola salida.

### Light
Crea una luz en la escena.
- **Type**: tipo de luz (Point, Sun, Spot, Area).
- **Energy**: potencia de la luz.
- **Color**: color de la luz.

### Global Options
Define parámetros globales de la escena.
- **Resolution X/Y**: resolución de render.
- **Samples**: número de muestras para el render.
- **Camera Path**: ruta a una cámara existente en el archivo.

### Render Outputs
Establece datos básicos de salida.
- **File Path**: carpeta o archivo de destino.
- **Format**: formato de imagen (OpenEXR o PNG).

### Scene Output
Define el nombre de la escena resultante. Debe situarse al final del 
árbol y es obligatorio para ejecutar la evaluación.

Conexión de propiedades
-----------------------
Los valores mostrados en los nodos también aparecen como sockets de entrada.
Puedes conectar estos sockets entre distintos nodos para compartir el mismo
valor. Si un socket está enlazado, el nodo tomará el valor de la conexión;
de lo contrario utilizará el valor interno editable en el propio nodo.

Flujo de trabajo recomendado
---------------------------
1. Empieza con un nodo **Global Options** para configurar la escena.
2. Añade instancias o grupos según sea necesario.
3. Inserta nodos **Transform** para posicionar los elementos.
4. Utiliza **Light** para iluminar.
5. Añade un nodo **Render Outputs** si necesitas configurar la salida.
6. Cierra el árbol con **Scene Output** para crear la escena.
7. Ejecuta **Sync to Scene** para aplicar los cambios.

Ten en cuenta que este complemento sigue siendo experimental, pero ahora la
evaluación del árbol aplica los cambios directamente en la escena de Blender en
lugar de limitarse a imprimir información en la consola. Sirve como base para
futuros flujos de trabajo nodales de ensamblaje de escenas.

---
